---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by chenlongfa.
--- DateTime: 2024/8/12 12:04
---

local Class = require("Framework.Lua.Class")
---@class FactoryTransport 传送带
local FactoryTransport = Class("FactoryTransport")
local UIView = require("Framework.UI.View")

function FactoryTransport:ctor()
    self.m_open = nil ---@type UnityEngine.GameObject
    self.m_close = nil ---@type UnityEngine.GameObject
    self.m_rootGO = nil ---@type UnityEngine.GameObject
    self.m_isRunning = true
end

function FactoryTransport:Init(rootGO)
    self.m_open = UIView:GetGo(rootGO,"open")
    self.m_close = UIView:GetGo(rootGO,"close")
    self.m_rootGO = rootGO
    self:SetState(false)
end

---设置是否正在运行中
function FactoryTransport:SetState(isRunning)
    if self.m_isRunning == isRunning then
        return
    end
    self.m_isRunning = isRunning
    if isRunning then
        self.m_open:SetActive(true)
        self.m_close:SetActive(false)
    else
        self.m_open:SetActive(false)
        self.m_close:SetActive(true)
    end
end

function FactoryTransport:OnExit()
    self.m_open = nil
    self.m_close = nil
    self.m_rootGO = nil
end

return FactoryTransport