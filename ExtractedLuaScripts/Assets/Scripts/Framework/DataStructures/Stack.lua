---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Microsoft-GXY.
--- DateTime: 2024/10/30 18:46
---
-- 创建一个栈类
---@class Stack
Stack = {}

-- 初始化栈
function Stack:new()
    local stack = {}
    setmetatable(stack, self)
    self.__index = self
    return stack
end

-- 入栈操作
function Stack:push(value)
    table.insert(self, value)
end

-- 出栈操作
function Stack:pop()
    if #self == 0 then
        error("Stack is empty")
    end
    return table.remove(self)
end

-- 检查栈是否为空
function Stack:is_empty()
    return #self == 0
end

-- 获取栈的大小
function Stack:size()
    return #self
end

-- 获取栈顶元素（不移除）
function Stack:peek()
    if #self == 0 then
        error("Stack is empty")
    end
    return self[#self]
end

-- 示例用法
--local s = Stack:new()
--
--s:push(1)
--s:push(2)
--s:push(3)
--
--print(s:pop()) -- 输出 3
--print(s:pop()) -- 输出 2
--
--print(s:is_empty()) -- 输出 false
--print(s:size())     -- 输出 1
--
--print(s:peek())     -- 输出 1
--print(s:pop())      -- 输出 1
--print(s:is_empty()) -- 输出 true
--print(s:size())     -- 输出 0
